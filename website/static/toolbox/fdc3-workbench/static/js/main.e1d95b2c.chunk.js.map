{"version":3,"sources":["components/common/TabPanel.tsx","components/Header.tsx","store/SnackbarStore.ts","store/SystemLogStore.ts","fixtures/logMessages.ts","store/ChannelStore.ts","fixtures/codeExamples.ts","components/common/CopyToClipboard.tsx","components/Channels.tsx","components/common/AccordionContent.tsx","fixtures/contexts.ts","store/ContextStore.ts","components/Workbench/CurrentContext.tsx","components/common/AccordionList.tsx","components/Workbench/ContextListeners.tsx","fixtures/intentTypes.ts","store/IntentStore.ts","components/Workbench/IntentListeners.tsx","components/Workbench/SystemLogItem.tsx","components/Workbench/SystemLog.tsx","components/Workbench/Workbench.tsx","components/common/JsonInput.tsx","components/common/TemplateTextField.tsx","components/ContextLinking.tsx","components/ContextCreate.tsx","components/Intents.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","tabPanel","padding","spacing","TabPanel","props","classes","children","value","index","other","role","hidden","id","className","root","flexGrow","toolbar","backgroundColor","paddingBottom","link","color","palette","common","white","textDecoration","info","marginLeft","minWidth","fontSize","fdc3","headerCube","width","height","backgroundHeader","background","left","top","position","zIndex","Header","useState","appInfo","setAppInfo","useEffect","fdc3Available","window","getInfo","AppBar","elevation","style","Toolbar","Typography","variant","src","scope","fdc3Version","provider","providerVersion","snackbarStore","snackbarData","makeObservable","this","observable","setSnackbar","action","clearSnackbarData","data","nanoid","systemLogStore","logList","addLog","name","type","body","message","logMessages","getChannels","success","error","getCurrentChannel","joinChannel","leaveChannel","warning","broadcast","raiseIntent","raiseIntentForContext","addContextListener","removeContextListener","addIntentListener","removeIntentListener","receivedContextListener","receivedIntentListener","createContext","saveTemplate","copyToClipboard","getLogMessage","push","channelStore","systemChannels","currentChannel","a","channel","runInAction","JSON","stringify","channelId","isSuccess","codeExamples","text","navigator","clipboard","writeText","form","display","flexWrap","alignItems","marginTop","margin","paddingLeft","channelsSelect","marginRight","controls","border","marginBottom","Channels","observer","setChannelId","isError","setIsError","Grid","item","xs","noValidate","autoComplete","container","direction","sm","justifyContent","Button","onClick","Tooltip","title","IconButton","size","FormControl","InputLabel","Select","labelId","onChange","event","target","label","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","length","MenuItem","disabled","map","FormHelperText","accordion","boxShadow","accordionSummary","minHeight","accordionDetails","paddingTop","flexDirection","accordionTitle","expand_icon","AccordionContent","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","contexts","template","email","schemaUrl","URL","contacts","ticker","RIC","ISIN","instruments","LEI","FDS_ID","ISOALPHA3","instrument","holding","positions","contextStore","contextsList","currentContext","contextListeners","addContextItem","saveContextItem","contextItem","sort","b","context","find","toJS","contextType","listenerId","contactListener","currentListener","lastReceivedContext","listener","e","listenerIndex","findIndex","unsubscribe","splice","textField","input","primary","borderColor","CurrentContext","undefined","TextField","contentEditable","fullWidth","multiline","InputProps","list","listItem","paddingRight","listAction","transform","AccordionList","listItems","noItemsText","onDelete","handleDelete","List","textPrimary","afterEachElement","ListItem","disableGutters","ListItemText","disableTypography","secondary","ListItemSecondaryAction","edge","ContextListeners","receivedContextListenerValue","contextField","InputLabelProps","shrink","intentTypes","intentStore","intentsList","intentListeners","intent","intentListener","appIntent","IntentListeners","SystemLogItem","logItem","borderTop","dark","divider","SystemLog","component","paper","systemLog","maxHeight","overflowY","indicator","tabs","borderBottomColor","borderBottomStyle","borderBottomWidth","a11yProps","Workbench","tabValue","setTabValue","Box","textAlign","Tabs","newValue","indicatorColor","scrollButtons","Tab","borderRadius","shape","grey","jsonInput","errorText","bottom","main","JsonInput","jsoneditor","setJsoneditor","useRef","initialSettings","mode","mainMenuBar","statusBar","indentation","onChangeText","parse","onValidationError","onJsonError","errorMsg","options","current","schema","$RefParser","dereference","circular","console","href","editor","JSONEditor","json","destroy","setSchema","set","tabIndex","ref","TemplateTextField","withStyles","spread","contextListenerName","rightAlign","listenerFilter","createFilterOptions","ContextLinking","contextListener","setContextListener","contextError","setContextError","contextListenersOptions","unshift","setValue","setError","Autocomplete","selectOnFocus","blurOnSelect","clearOnBlur","handleHomeEndKeys","inputValue","filterOptions","params","filtered","getOptionLabel","option","renderOption","renderInput","placeholder","helperText","isContextListenerExists","filter","templateSelect","multilineField","button","ContextCreate","templateName","setTemplateName","contextValue","setContextValue","setContext","selectedContext","newContext","getOptionSelected","errors","h4","field","Intents","intentValue","setIntentValue","raiseIntentError","setRaiseIntentError","setIntentListener","intentError","setIntentError","intentListenersOptions","handleChangeListener","defaultValue","mainTheme","createTheme","light","contrastText","typography","fontFamily","h5","header","tabIndicator","footer","fontStyle","fontWeight","code","openAPIDocs","preventDefault","open","openSpecAccessDocs","App","setFdc3Available","openSnackbar","setOpenSnackbar","setTabIndex","handleClose","reason","setTimeout","fdc3Ready","ThemeProvider","flex","Paper","newIndex","Link","Snackbar","autoHideDuration","onClose","Alert","severity","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1d95b2c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\ninterface TabPanelProps {\r\n\tchildren?: React.ReactNode;\r\n\tindex: any;\r\n\tvalue: any;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\ttabPanel: {\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const TabPanel: React.FC<TabPanelProps> = (props: TabPanelProps) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`scrollable-auto-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`scrollable-auto-tab-${index}`}\r\n\t\t\t{...other}\r\n\t\t>\r\n\t\t\t{value === index && <div className={classes.tabPanel}>{children}</div>}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { AppBar, Toolbar, Typography } from \"@material-ui/core\";\r\nimport * as fdc3 from \"@finos/fdc3\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tpadding: theme.spacing(2, 4),\r\n\t\t\tpaddingBottom: \"0px\",\r\n\t\t},\r\n\t\tlink: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\ttextDecoration: \"underline\",\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tmarginLeft: \"auto\",\r\n\t\t\tminWidth: \"200px\",\r\n\t\t\tfontSize: \"12px\",\r\n\t\t},\r\n\t\tfdc3: {},\r\n\t\theaderCube: {\r\n\t\t\twidth: \"150px\",\r\n\t\t\theight: \"50px\",\r\n\t\t},\r\n\t\tbackgroundHeader: {\r\n\t\t\tbackground: \"linear-gradient(to bottom, #0086bf, #00bbe1)\",\r\n\t\t\theight: \"200px\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tleft: \"0px\",\r\n\t\t\ttop: \"0px\",\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tzIndex: -10,\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const Header = (props: { fdc3Available: boolean }) => {\r\n\tconst classes = useStyles();\r\n\tconst [appInfo, setAppInfo] = useState<fdc3.ImplementationMetadata>();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.fdc3Available) {\r\n\t\t\t//getInfo is not available in FDC3 < v1.2, check for it before trying to use it\r\n\t\t\tif (typeof window.fdc3.getInfo != \"undefined\") {\r\n\t\t\t\tsetAppInfo(fdc3.getInfo());\r\n\t\t\t}\r\n\t\t}\r\n\t}, [props.fdc3Available]);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div className={classes.backgroundHeader}></div>\r\n\t\t\t<AppBar position=\"static\" elevation={0} style={{ backgroundColor: \"transparent\" }}>\r\n\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography variant=\"h3\" color=\"inherit\" className={classes.fdc3}>\r\n\t\t\t\t\t\t\t<img src=\"./fdc3-logo.svg\" className={classes.headerCube} />\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.info}>\r\n\t\t\t\t\t\t<table id=\"providerInfo\">\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">FDC3 Version</th>\r\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.fdc3Version ? appInfo.fdc3Version : \"-\"}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">Provider</th>\r\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.provider ? appInfo.provider : \"-\"}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">Provider version</th>\r\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.providerVersion ? appInfo.providerVersion : \"-\"}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { makeObservable, observable, action } from \"mobx\";\r\nimport { Color } from \"@material-ui/lab/Alert\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\ninterface SnackbarData {\r\n\tmessage: string;\r\n\ttype: Color;\r\n}\r\n\r\ninterface SnackbarItem extends SnackbarData {\r\n\tid: string;\r\n}\r\n\r\nclass SnackbarStore {\r\n\tsnackbarData: SnackbarItem | null = null;\r\n\r\n\tconstructor() {\r\n\t\tmakeObservable(this, {\r\n\t\t\tsnackbarData: observable,\r\n\t\t\tsetSnackbar: action,\r\n\t\t\tclearSnackbarData: action,\r\n\t\t});\r\n\t}\r\n\r\n\tsetSnackbar(data: SnackbarData) {\r\n\t\tthis.snackbarData = { ...data, id: nanoid() };\r\n\t}\r\n\r\n\tclearSnackbarData() {\r\n\t\tthis.snackbarData = null;\r\n\t}\r\n}\r\n\r\nconst snackbarStore = new SnackbarStore();\r\n\r\nexport default snackbarStore;\r\n","import { makeObservable, observable, action } from \"mobx\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { getLogMessage } from \"../fixtures/logMessages\";\r\nimport snackbarStore from \"./SnackbarStore\";\r\n\r\nexport type logMessagesName =\r\n\t| \"getChannels\"\r\n\t| \"getCurrentChannel\"\r\n\t| \"joinChannel\"\r\n\t| \"leaveChannel\"\r\n\t| \"broadcast\"\r\n\t| \"raiseIntent\"\r\n\t| \"raiseIntentForContext\"\r\n\t| \"addContextListener\"\r\n\t| \"removeContextListener\"\r\n\t| \"addIntentListener\"\r\n\t| \"removeIntentListener\"\r\n\t| \"receivedContextListener\"\r\n\t| \"receivedIntentListener\"\r\n\t| \"createContext\"\r\n\t| \"saveTemplate\"\r\n\t| \"copyToClipboard\";\r\n\r\nexport type logMessagesType = \"error\" | \"success\" | \"warning\" | \"info\";\r\n\r\nexport interface LogItem {\r\n\tid: string;\r\n\tname: logMessagesName;\r\n\ttype: logMessagesType;\r\n\tmessage: string;\r\n\tbody?: string;\r\n\tvariant?: \"code\" | \"text\";\r\n}\r\n\r\ninterface LogItemCreator extends Omit<LogItem, \"message\" | \"id\"> {\r\n\tvalue?: string;\r\n}\r\n\r\nclass SystemLogStore {\r\n\tlogList: LogItem[] = [];\r\n\r\n\tconstructor() {\r\n\t\tmakeObservable(this, {\r\n\t\t\tlogList: observable,\r\n\t\t\taddLog: action,\r\n\t\t});\r\n\t}\r\n\r\n\taddLog({ name, type, value, body, variant }: LogItemCreator) {\r\n\t\tconst message = getLogMessage(name, type, value);\r\n\t\tsnackbarStore.setSnackbar({\r\n\t\t\tmessage: message,\r\n\t\t\ttype: type,\r\n\t\t});\r\n\r\n\t\tthis.logList.push({ id: nanoid(), name, type, message, body, variant: variant ?? \"text\" });\r\n\t}\r\n}\r\n\r\nconst systemLogStore = new SystemLogStore();\r\n\r\nexport default systemLogStore;\r\n","import { logMessagesName, logMessagesType } from \"../store/SystemLogStore\";\r\n\r\ntype LogMessages = {\r\n\t[name in logMessagesName]: {\r\n\t\t[type in logMessagesType]?: string;\r\n\t};\r\n};\r\n\r\nexport const getLogMessage = (name: logMessagesName, type: logMessagesType, value: string = \"\"): string => {\r\n\tconst logMessages: LogMessages = {\r\n\t\tgetChannels: {\r\n\t\t\tsuccess: `Successfully retrieved System channels`,\r\n\t\t\terror: `Failed to retrieve System channels`,\r\n\t\t},\r\n\t\tgetCurrentChannel: {\r\n\t\t\tsuccess: `Successfully retrieved current channel [${value}]`,\r\n\t\t\terror: `Failed to retrieve current channel`,\r\n\t\t},\r\n\t\tjoinChannel: {\r\n\t\t\tsuccess: `Successfully joined the [${value}] channel`,\r\n\t\t\terror: `Failed to join the [${value}] channel`,\r\n\t\t},\r\n\t\tleaveChannel: {\r\n\t\t\tsuccess: `Successfully left the [${value}] channel`,\r\n\t\t\terror: `Failed to leave the [${value}] channel`,\r\n\t\t\twarning: `Not currently joined to a channel`,\r\n\t\t},\r\n\t\tbroadcast: {\r\n\t\t\tsuccess: \"Successfully broadcasted context\",\r\n\t\t\terror: \"Failed to broadcast context:\",\r\n\t\t},\r\n\t\traiseIntent: {\r\n\t\t\tsuccess: `Successfully raised intent [${value}]`,\r\n\t\t\terror: `Failed to raise intent [${value}]`,\r\n\t\t},\r\n\t\traiseIntentForContext: {\r\n\t\t\tsuccess: `Successfully raised intent for context`,\r\n\t\t\terror: `Failed to raise intent for context`,\r\n\t\t},\r\n\t\taddContextListener: {\r\n\t\t\tsuccess: `A context listener for '[${value}]' has been added`,\r\n\t\t\terror: `Failed to add a context listener for '[${value}]'`,\r\n\t\t},\r\n\t\tremoveContextListener: {\r\n\t\t\tsuccess: `A context listener for '[${value}]' has been removed`,\r\n\t\t\terror: `Failed to remove a context listener for '[${value}]'`,\r\n\t\t},\r\n\t\taddIntentListener: {\r\n\t\t\tsuccess: `An intent listener for '[${value}]' has been added`,\r\n\t\t\terror: `Failed to add an intent listener for '[${value}]'`,\r\n\t\t},\r\n\t\tremoveIntentListener: {\r\n\t\t\tsuccess: `An intent listener for '[${value}]' has been removed`,\r\n\t\t\terror: `Failed to remove an intent listener for '[${value}]'`,\r\n\t\t},\r\n\t\treceivedContextListener: {\r\n\t\t\tinfo: `Received context via '[${value}]' listener`,\r\n\t\t\terror: `Failed to receive context from '[${value}]' listener`,\r\n\t\t},\r\n\t\treceivedIntentListener: {\r\n\t\t\tinfo: `Received context via '[${value}]' listener.`,\r\n\t\t\terror: `Failed to receive context from '[${value}]' listener.`,\r\n\t\t},\r\n\t\tcreateContext: {\r\n\t\t\tsuccess: `Set my current context to type '[${value}]'.`,\r\n\t\t\terror: `Failed to set my current context to type '[${value}]'.`,\r\n\t\t},\r\n\t\tsaveTemplate: {\r\n\t\t\tsuccess: `Saved context template for '[${value}]'.`,\r\n\t\t\terror: `Failed to save context template.`,\r\n\t\t},\r\n\t\tcopyToClipboard: {\r\n\t\t\tinfo: `${value} code snippet copied to clipboard`,\r\n\t\t\terror: `Failed to copy code ${value} snippet to clipboard.`,\r\n\t\t},\r\n\t};\r\n\r\n\treturn logMessages[name][type] ?? (value != \"\" ? `${value}` : `Undefined log message ${name}.${type}`);\r\n};\r\n","import { makeObservable, observable, action, runInAction } from \"mobx\";\r\nimport * as fdc3 from \"@finos/fdc3\";\r\nimport systemLogStore from \"./SystemLogStore\";\r\n\r\nclass ChannelStore {\r\n\tsystemChannels: fdc3.Channel[] = [];\r\n\r\n\tcurrentChannel: fdc3.Channel | null = null;\r\n\r\n\tconstructor() {\r\n\t\tmakeObservable(this, {\r\n\t\t\tsystemChannels: observable,\r\n\t\t\tcurrentChannel: observable,\r\n\t\t\tgetChannels: action,\r\n\t\t\tjoinChannel: action,\r\n\t\t\tleaveChannel: action,\r\n\t\t\tgetCurrentChannel: action,\r\n\t\t});\r\n\r\n\t\tthis.getChannels();\r\n\t}\r\n\r\n\tasync getCurrentChannel() {\r\n\t\ttry {\r\n\t\t\tconst channel = await fdc3.getCurrentChannel();\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"getCurrentChannel\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tvalue: channel ? channel.id : \"none\",\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t\tthis.currentChannel = channel;\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"getCurrentChannel\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync getChannels() {\r\n\t\ttry {\r\n\t\t\tconst systemChannels = await fdc3.getSystemChannels();\r\n\t\t\tconst currentChannel = await fdc3.getCurrentChannel();\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"getChannels\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t});\r\n\t\t\t\tthis.systemChannels = systemChannels;\r\n\t\t\t\tthis.currentChannel = currentChannel;\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"getChannels\",\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tvariant: \"code\",\r\n\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync joinChannel(channelId: string) {\r\n\t\ttry {\r\n\t\t\tawait fdc3.joinChannel(channelId);\r\n\t\t\tconst currentChannel = await fdc3.getCurrentChannel();\r\n\t\t\tconst isSuccess = currentChannel !== null;\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"joinChannel\",\r\n\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\r\n\t\t\t\t\tvalue: isSuccess ? currentChannel?.id : channelId,\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t\tthis.currentChannel = currentChannel;\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"joinChannel\",\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tvalue: channelId,\r\n\t\t\t\tvariant: \"code\",\r\n\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync leaveChannel() {\r\n\t\ttry {\r\n\t\t\t//check that we're on a channel\r\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\r\n\t\t\tif (!currentChannel) {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"leaveChannel\",\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tawait fdc3.leaveCurrentChannel();\r\n\t\t\t\tcurrentChannel = await fdc3.getCurrentChannel();\r\n\t\t\t\tconst isSuccess = currentChannel === null;\r\n\r\n\t\t\t\trunInAction(() => {\r\n\t\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\t\tname: \"leaveChannel\",\r\n\t\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\r\n\t\t\t\t\t\tvalue: this.currentChannel?.id,\r\n\t\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (isSuccess) {\r\n\t\t\t\t\t\tthis.currentChannel = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"leaveChannel\",\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tvalue: this.currentChannel?.id,\r\n\t\t\t\tvariant: \"code\",\r\n\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst channelStore = new ChannelStore();\r\n\r\nexport default channelStore;\r\n","export const codeExamples = {\r\n\tchannels:\r\n\t\t\"// get all system channels\\n\" +\r\n\t\t\"const channels = await fdc3.getSystemChannels();\\n\" +\r\n\t\t\"\\n\" +\r\n\t\t\"// create UI to pick from the system channels\\n\" +\r\n\t\t\"\\n\" +\r\n\t\t\"// join the channel on selection\\n\" +\r\n\t\t\"fdc3.joinChannel(selectedChannel.id);\",\r\n\tgetCurrentChannel:\r\n\t\t\"// get the current channel membership\\n\" +\r\n\t\t\"let current = await fdc3.getCurrentChannel();\\n\" +\r\n\t\t\"\\n\" +\r\n\t\t\"//leave the current channel\\n\" +\r\n\t\t\"await fdc3.leaveCurrentChannel();\\n\" +\r\n\t\t\"//the fdc3Listener will now cease receiving context\",\r\n\tbroadcast:\r\n\t\t\"const instrument = {\\n\" +\r\n\t\t\"    type: 'fdc3.instrument',\\n\" +\r\n\t\t\"    id: {\\n\" +\r\n\t\t\"        ticker: 'AAPL'\\n\" +\r\n\t\t\"    }\\n\" +\r\n\t\t\"};\\n\" +\r\n\t\t\"\\n\" +\r\n\t\t\"fdc3.broadcast(instrument);\",\r\n\traiseIntent:\r\n\t\t\"//Raise an intent with a specified context\\n\" +\r\n\t\t'let context = {type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}; \\n' +\r\n\t\t'fdc3.raiseIntent(\"ViewChart\", context);',\r\n\tcontextListener:\r\n\t\t\"// any context\\n\" +\r\n\t\t\"const listener = fdc3.addContextListener(null, context => {\\n\" + \r\n\t\t\"    //add context handling code here\\n\" + \t\r\n\t\t\"});\\n\" +\r\n\t\t\"\\n\" +\r\n\t\t\"// listener for a specific type\\n\" +\r\n\t\t\"const contactListener = fdc3.addContextListener('fdc3.contact', contact => {\\n\" + \r\n\t\t\"    //add context handling code here\\n\" + \t\r\n\t\t\"});\",\r\n\tintentListener:\r\n\t\t\"const listener = fdc3.addIntentListener('StartChat', context => {\\n\" +\r\n\t\t\"  // start chat has been requested by another application\\n\" +\r\n\t\t\"});\",\r\n\traiseIntentForContext: \"const intentResolution = await fdc3.raiseIntentForContext(context);\",\r\n};\r\n","import { runInAction } from \"mobx\";\r\nimport systemLogStore from \"../../store/SystemLogStore\";\r\n\r\nexport const copyToClipboard = (text: string, name: string) => () => {\r\n\tnavigator.clipboard.writeText(text);\r\n\trunInAction(() => {\r\n\t\tsystemLogStore.addLog({\r\n\t\t\tname: \"copyToClipboard\",\r\n\t\t\ttype: \"info\",\r\n\t\t\tvalue: name,\r\n\t\t\tvariant: \"text\",\r\n\t\t});\r\n\t});\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport {\r\n\tTypography,\r\n\tButton,\r\n\tFormControl,\r\n\tInputLabel,\r\n\tSelect,\r\n\tMenuItem,\r\n\tFormHelperText,\r\n\tIconButton,\r\n\tTooltip,\r\n\tGrid,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport channelStore from \"../store/ChannelStore\";\r\nimport { codeExamples } from \"../fixtures/codeExamples\";\r\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tform: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\t\"& > *\": {\r\n\t\t\t\tmargin: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t\"& > *:first-child\": {\r\n\t\t\t\tmarginLeft: 0,\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t},\r\n\t\t\t\"& > * > *:first-child\": {\r\n\t\t\t\tmarginLeft: 0,\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tchannelsSelect: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\r\n\t\t\t\tpadding: \"6px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tborder: {\r\n\t\t\theight: \"1px\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tbackgroundColor: \"#acb2c0\",\r\n\t\t\tmarginTop: \"24px\",\r\n\t\t\tmarginBottom: \"16px\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const Channels = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [channelId, setChannelId] = useState<string>(\"\");\r\n\tconst [isError, setIsError] = useState<boolean>(false);\r\n\r\n\tconst handleSelectChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n\t\tsetChannelId(event.target.value as string);\r\n\t\tsetIsError(false);\r\n\t};\r\n\r\n\tconst handleJoinChannel = () => {\r\n\t\tif (channelId) {\r\n\t\t\tchannelStore.joinChannel(channelId);\r\n\t\t\tsetChannelId(\"\");\r\n\t\t} else {\r\n\t\t\tsetIsError(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLeaveChannel = () => {\r\n\t\tchannelStore.leaveChannel();\r\n\t};\r\n\r\n\tconst handleRefreshChannel = () => {\r\n\t\tchannelStore.getCurrentChannel();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Typography variant=\"h5\">Current Channel</Typography>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\r\n\t\t\t\t<Grid container direction=\"row\" spacing={1}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5}>\r\n\t\t\t\t\t\t<Typography variant=\"body1\">{channelStore.currentChannel?.id ?? \"None\"}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7}>\r\n\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleRefreshChannel}>\r\n\t\t\t\t\t\t\t\t\tRefresh\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleLeaveChannel}>\r\n\t\t\t\t\t\t\t\t\tLeave\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.getCurrentChannel, \"getCurrentChannel\")}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</form>\r\n\r\n\t\t\t<div className={classes.border}></div>\r\n\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Typography variant=\"h5\">Join System Channels</Typography>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item xs={12} sm={8}>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.channelsSelect} size=\"small\" error={isError}>\r\n\t\t\t\t\t\t\t<InputLabel id=\"channel\">Channel</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tlabelId=\"channel\"\r\n\t\t\t\t\t\t\t\tid=\"channel-select\"\r\n\t\t\t\t\t\t\t\tvalue={channelId ?? \"\"}\r\n\t\t\t\t\t\t\t\tonChange={handleSelectChange}\r\n\t\t\t\t\t\t\t\tlabel=\"Channel\"\r\n\t\t\t\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!channelStore.systemChannels.length && (\r\n\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\tNo channels received\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{channelStore.systemChannels.length && <MenuItem value=\"\" style={{ height: \"0\", padding: \"0\" }} />}\r\n\t\t\t\t\t\t\t\t{channelStore.systemChannels.length &&\r\n\t\t\t\t\t\t\t\t\tchannelStore.systemChannels.map(({ id }) => (\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={id} value={id}>\r\n\t\t\t\t\t\t\t\t\t\t\t{id}\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t{isError && <FormHelperText>Select channel from list</FormHelperText>}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleJoinChannel}>\r\n\t\t\t\t\t\t\t\t\tJoin\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.channels, \"joinChannel\")}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { Accordion, AccordionDetails, AccordionSummary, Typography } from \"@material-ui/core\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nexport interface AccordionContentProps {\r\n\ttitle: string;\r\n\tchildren: React.ReactNode;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\taccordion: {\r\n\t\t\tmargin: theme.spacing(1, 0, 0, 0),\r\n\t\t\tboxShadow: \"none\",\r\n\t\t\t\"&::before\": {\r\n\t\t\t\tdisplay: \"none\",\r\n\t\t\t},\r\n\t\t\t\"&.Mui-expanded\": {\r\n\t\t\t\tmargin: theme.spacing(1, 0, 0, 0),\r\n\t\t\t},\r\n\t\t},\r\n\t\taccordionSummary: {\r\n\t\t\tborder: \"none\",\r\n\t\t\tpadding: 0,\r\n\t\t\tminHeight: \"initial\",\r\n\t\t\t\"&.Mui-expanded\": {\r\n\t\t\t\tminHeight: \"initial\",\r\n\t\t\t},\r\n\t\t\t\"& .MuiAccordionSummary-content\": {\r\n\t\t\t\tmargin: \"0 12px 0 0\",\r\n\t\t\t\t\"&.Mui-expanded\": {\r\n\t\t\t\t\tmargin: \"0 12px 0 0\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t\"& .MuiAccordionSummary-expandIcon\": {\r\n\t\t\t\tpadding: \"6px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\taccordionDetails: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tflexDirection: \"column\",\r\n\t\t},\r\n\t\taccordionTitle: {\r\n\t\t\tcolor: \"#0086bf\",\r\n\t\t\tfontSize: \"16px\",\r\n\t\t},\r\n\t\texpand_icon: {\r\n\t\t\tcolor: \"#0086bf\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const AccordionContent: React.FC<AccordionContentProps> = ({ title, children }: AccordionContentProps) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Accordion className={classes.accordion} defaultExpanded>\r\n\t\t\t<AccordionSummary\r\n\t\t\t\tclassName={classes.accordionSummary}\r\n\t\t\t\texpandIcon={<ExpandMoreIcon className={classes.expand_icon} />}\r\n\t\t\t\taria-label=\"Expand\"\r\n\t\t\t\taria-controls=\"additional-actions1-content\"\r\n\t\t\t\tid=\"additional-actions1-header\"\r\n\t\t\t>\r\n\t\t\t\t<Typography variant=\"h5\" className={classes.accordionTitle}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t</AccordionSummary>\r\n\r\n\t\t\t<AccordionDetails className={classes.accordionDetails}>{children}</AccordionDetails>\r\n\t\t</Accordion>\r\n\t);\r\n};\r\n","import { ContextItem } from \"../store/ContextStore\";\r\n\r\nexport const contexts: ContextItem[] = [\r\n\t{\r\n\t\tid: \"fdc3.contact\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.contact\",\r\n\t\t\tname: \"Jane Doe\",\r\n\t\t\tid: {\r\n\t\t\t\temail: \"jane.doe@mail.com\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/contact.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.contactList\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.contactList\",\r\n\t\t\tcontacts: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.contact\",\r\n\t\t\t\t\tname: \"Jane Doe\",\r\n\t\t\t\t\tid: {\r\n\t\t\t\t\t\temail: \"jane.doe@mail.com\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.contact\",\r\n\t\t\t\t\tname: \"John Doe\",\r\n\t\t\t\t\tid: {\r\n\t\t\t\t\t\temail: \"john.doe@mail.com\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/contactList.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.instrument\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\tname: \"Microsoft\",\r\n\t\t\tid: {\r\n\t\t\t\tticker: \"MSFT\",\r\n\t\t\t\tRIC: \"MSFT.OQ\",\r\n\t\t\t\tISIN: \"US5949181045\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/instrument.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.instrumentList\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.instrumentList\",\r\n\t\t\tinstruments: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\t\t\tid: {\r\n\t\t\t\t\t\tticker: \"AAPL\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\t\t\tid: {\r\n\t\t\t\t\t\tticker: \"MSFT\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/instrumentList.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.organization\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.organization\",\r\n\t\t\tname: \"Cargill, Incorporated\",\r\n\t\t\tid: {\r\n\t\t\t\tLEI: \"QXZYQNMR4JZ5RIRN4T31\",\r\n\t\t\t\tFDS_ID: \"00161G-E\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/organization.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.country\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.country\",\r\n\t\t\tname: \"Sweden\",\r\n\t\t\tid: {\r\n\t\t\t\tISOALPHA3: \"SWE\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/country.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.position\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.position\",\r\n\t\t\tinstrument: {\r\n\t\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\t\tid: {\r\n\t\t\t\t\tticker: \"AAPL\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tholding: 2000000,\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/position.schema.json\"),\r\n\t},\r\n\t{\r\n\t\tid: \"fdc3.portfolio\",\r\n\t\ttemplate: {\r\n\t\t\ttype: \"fdc3.portfolio\",\r\n\t\t\tpositions: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.position\",\r\n\t\t\t\t\tinstrument: {\r\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\tticker: \"AAPL\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tholding: 2000000,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.position\",\r\n\t\t\t\t\tinstrument: {\r\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\tticker: \"MSFT\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tholding: 1500000,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"fdc3.position\",\r\n\t\t\t\t\tinstrument: {\r\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\r\n\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\tticker: \"IBM\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tholding: 3000000,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/portfolio.schema.json\"),\r\n\t},\r\n];\r\n","import { makeObservable, observable, runInAction, action, toJS } from \"mobx\";\r\nimport * as fdc3 from \"@finos/fdc3\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { contexts } from \"../fixtures/contexts\";\r\nimport systemLogStore from \"./SystemLogStore\";\r\n\r\nexport type ContextType = {\r\n\ttype: string;\r\n\tid?: {\r\n\t\t[key: string]: string;\r\n\t};\r\n\tname?: string;\r\n\t[x: string]: any;\r\n};\r\n\r\nexport type ContextItem = {\r\n\tid: string;\r\n\ttemplate: ContextType | null;\r\n\tschemaUrl?: URL;\r\n};\r\n\r\ninterface Fdc3Listener {\r\n\tid: string;\r\n\ttype: string;\r\n\tlistener: fdc3.Listener;\r\n\tlastReceivedContext?: ContextType | null;\r\n}\r\n\r\nclass ContextStore {\r\n\tcontextsList: ContextItem[] = contexts;\r\n\r\n\tcurrentContext: ContextType | null = null;\r\n\r\n\tcontextListeners: Fdc3Listener[] = [];\r\n\r\n\tconstructor() {\r\n\t\tmakeObservable(this, {\r\n\t\t\tcontextsList: observable,\r\n\t\t\tcurrentContext: observable,\r\n\t\t\tcontextListeners: observable,\r\n\t\t\tcreateContext: action,\r\n\t\t\tbroadcast: action,\r\n\t\t\taddContextItem: action,\r\n\t\t\tsaveContextItem: action,\r\n\t\t\taddContextListener: action,\r\n\t\t\tremoveContextListener: action,\r\n\t\t});\r\n\t}\r\n\r\n\taddContextItem(contextItem: ContextItem) {\r\n\t\tthis.contextsList.push(contextItem);\r\n\t\tthis.contextsList.sort((a, b) => (a.id > b.id ? 1 : -1));\r\n\t}\r\n\r\n\tsaveContextItem(contextItem: ContextItem) {\r\n\t\tconst context = this.contextsList.find(({ id }) => id === contextItem.id);\r\n\r\n\t\tif (context) {\r\n\t\t\tcontext.template = contextItem.template;\r\n\t\t}\r\n\t}\r\n\r\n\tcreateContext(context: ContextType) {\r\n\t\tthis.currentContext = context;\r\n\t}\r\n\r\n\tasync broadcast() {\r\n\t\tif (this.currentContext) {\r\n\t\t\t//check that we're on a channel\r\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\r\n\t\t\tif (!currentChannel) {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"broadcast\",\r\n\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\tvalue: \"You are not currently joined to a channel (no-op)\",\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait fdc3.broadcast(toJS(this.currentContext));\r\n\t\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\t\tname: \"broadcast\",\r\n\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\tbody: JSON.stringify(this.currentContext, null, 4),\r\n\t\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\t\tname: \"broadcast\",\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"broadcast\",\r\n\t\t\t\ttype: \"warning\",\r\n\t\t\t\tvalue: \"You must set a context before you can broadcast it\",\r\n\t\t\t\tvariant: \"text\",\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\taddContextListener(contextType: string) {\r\n\t\ttry {\r\n\t\t\tconst listenerId = nanoid();\r\n\r\n\t\t\t// TODO: remove window after fixing https://github.com/finos/FDC3/issues/435\r\n\t\t\tconst contactListener = window.fdc3.addContextListener(contextType === \"all\" ? null : contextType, (context) => {\r\n\t\t\t\tconst currentListener = this.contextListeners.find(({ id }) => id === listenerId);\r\n\r\n\t\t\t\trunInAction(() => {\r\n\t\t\t\t\tif (currentListener) {\r\n\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"receivedContextListener\",\r\n\t\t\t\t\ttype: \"info\",\r\n\t\t\t\t\tvalue: contextType,\r\n\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\tbody: JSON.stringify(context, null, 4),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"addContextListener\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tvalue: contextType,\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t\tthis.contextListeners.push({ id: listenerId, type: contextType, listener: contactListener });\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"addContextListener\",\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tvalue: contextType,\r\n\t\t\t\tvariant: \"code\",\r\n\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tremoveContextListener(id: string) {\r\n\t\tconst listenerIndex = this.contextListeners.findIndex((listener) => listener.id === id);\r\n\r\n\t\tif (listenerIndex !== -1) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.contextListeners[listenerIndex].listener.unsubscribe();\r\n\r\n\t\t\t\trunInAction(() => {\r\n\t\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\t\tname: \"removeContextListener\",\r\n\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\tvalue: this.contextListeners[listenerIndex].type,\r\n\t\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.contextListeners.splice(listenerIndex, 1);\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"removeContextListener\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tvalue: this.contextListeners[listenerIndex].type,\r\n\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisContextListenerExists(type: string) {\r\n\t\treturn !!this.contextListeners.find((listener) => listener.type === type);\r\n\t}\r\n}\r\n\r\nconst contextStore = new ContextStore();\r\n\r\nexport default contextStore;\r\n","import React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { AccordionContent } from \"../common/AccordionContent\";\r\nimport contextStore from \"../../store/ContextStore\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\ttextField: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tfontSize: \"14px\",\r\n\t\t\tcolor: theme.palette.text.primary,\r\n\t\t},\r\n\t\t\"& .Mui-disabled\": {\r\n\t\t\tborderColor: theme.palette.text.primary,\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const CurrentContext = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst context = JSON.stringify(contextStore.currentContext, undefined, 4);\r\n\r\n\treturn (\r\n\t\t<AccordionContent title=\"Context\">\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled\r\n\t\t\t\tclassName={classes.textField}\r\n\t\t\t\tid=\"context-id\"\r\n\t\t\t\tcontentEditable={false}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmultiline\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tvalue={context}\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\tinput: classes.input,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</AccordionContent>\r\n\t);\r\n});\r\n","import React from \"react\";\r\nimport { List, ListItem, ListItemText, Typography, ListItemSecondaryAction, IconButton } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { AccordionContent } from \"./AccordionContent\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nexport interface AccordionListItem {\r\n\tid: string;\r\n\ttextPrimary: string;\r\n\tafterEachElement?: React.ReactNode;\r\n}\r\n\r\nexport interface AccordionListProps {\r\n\ttitle: string;\r\n\tlistItems: AccordionListItem[];\r\n\tnoItemsText: string;\r\n\tonDelete?: (id: string) => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tlist: {\r\n\t\t\tpadding: 0,\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\tlistItem: {\r\n\t\t\tpadding: 0,\r\n\t\t\t\"&.MuiListItem-secondaryAction\": {\r\n\t\t\t\tpaddingRight: theme.spacing(6),\r\n\t\t\t},\r\n\t\t},\r\n\t\tlistAction: {\r\n\t\t\ttop: \"2px\",\r\n\t\t\ttransform: \"none\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const AccordionList: React.FC<AccordionListProps> = ({\r\n\ttitle,\r\n\tlistItems,\r\n\tnoItemsText,\r\n\tonDelete,\r\n}: AccordionListProps) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst handleDelete = (id: string) => () => {\r\n\t\tif (onDelete) {\r\n\t\t\tonDelete(id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AccordionContent title={title}>\r\n\t\t\t{!listItems.length && <Typography variant=\"body1\">{noItemsText}</Typography>}\r\n\t\t\t{!!listItems.length && (\r\n\t\t\t\t<List className={classes.list}>\r\n\t\t\t\t\t{listItems.map(({ id, textPrimary, afterEachElement }) => (\r\n\t\t\t\t\t\t<ListItem key={id} className={classes.listItem} disableGutters>\r\n\t\t\t\t\t\t\t<ListItemText disableTypography primary={textPrimary} secondary={afterEachElement} />\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction className={classes.listAction}>\r\n\t\t\t\t\t\t\t\t{onDelete && (\r\n\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" edge=\"end\" aria-label=\"delete\" onClick={handleDelete(id)}>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t)}\r\n\t\t</AccordionContent>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport contextStore from \"../../store/ContextStore\";\r\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\ttextField: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tfontSize: \"14px\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const ContextListeners = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst contextListeners: AccordionListItem[] = contextStore.contextListeners.map(\r\n\t\t({ id, type, lastReceivedContext }) => {\r\n\t\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\r\n\r\n\t\t\tconst contextField = (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\r\n\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcontentEditable={false}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue={receivedContextListenerValue}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\t\tinput: classes.input,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\r\n\t\t\treturn { id, textPrimary: `${type} Listener`, afterEachElement: contextField };\r\n\t\t}\r\n\t);\r\n\r\n\tconst handleDeleteListener = (id: string) => {\r\n\t\tcontextStore.removeContextListener(id);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AccordionList\r\n\t\t\ttitle=\"Context Listeners\"\r\n\t\t\tnoItemsText=\"No Context Listeners\"\r\n\t\t\tlistItems={contextListeners}\r\n\t\t\tonDelete={handleDeleteListener}\r\n\t\t/>\r\n\t);\r\n});\r\n","export const intentTypes: Array<{ title: string; value: string }> = [\r\n\t{\r\n\t\ttitle: \"StartCall\",\r\n\t\tvalue: \"StartCall\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"StartChat\",\r\n\t\tvalue: \"StartChat\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"ViewChart\",\r\n\t\tvalue: \"ViewChart\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"ViewContact\",\r\n\t\tvalue: \"ViewContact\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"ViewQuote\",\r\n\t\tvalue: \"ViewQuote\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"ViewNews\",\r\n\t\tvalue: \"ViewNews\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"ViewAnalysis\",\r\n\t\tvalue: \"ViewAnalysis\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"ViewInstrument\",\r\n\t\tvalue: \"ViewInstrument\",\r\n\t},\r\n];\r\n","import { makeObservable, observable, action, runInAction, toJS } from \"mobx\";\r\nimport * as fdc3 from \"@finos/fdc3\";\r\nimport { nanoid } from \"nanoid\";\r\nimport contextStore, { ContextType } from \"./ContextStore\";\r\nimport { intentTypes } from \"../fixtures/intentTypes\";\r\nimport systemLogStore from \"./SystemLogStore\";\r\n\r\ntype IntentItem = { title: string; value: string };\r\n\r\ninterface Fdc3Listener {\r\n\tid: string;\r\n\ttype: string;\r\n\tlistener: fdc3.Listener;\r\n\tlastReceivedContext?: ContextType | null;\r\n}\r\n\r\nclass IntentStore {\r\n\tintentsList: IntentItem[] = intentTypes;\r\n\r\n\tintentListeners: Fdc3Listener[] = [];\r\n\r\n\tconstructor() {\r\n\t\tmakeObservable(this, {\r\n\t\t\tintentsList: observable,\r\n\t\t\tintentListeners: observable,\r\n\t\t\traiseIntent: action,\r\n\t\t\taddIntentListener: action,\r\n\t\t\tremoveIntentListener: action,\r\n\t\t\traiseIntentForContext: action,\r\n\t\t});\r\n\t}\r\n\r\n\taddIntentListener(intent: string) {\r\n\t\ttry {\r\n\t\t\tconst listenerId = nanoid();\r\n\r\n\t\t\tconst intentListener = fdc3.addIntentListener(intent, (context) => {\r\n\t\t\t\tconst currentListener = this.intentListeners.find(({ id }) => id === listenerId);\r\n\r\n\t\t\t\trunInAction(() => {\r\n\t\t\t\t\tif (currentListener) {\r\n\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"receivedIntentListener\",\r\n\t\t\t\t\ttype: \"info\",\r\n\t\t\t\t\tvalue: intent,\r\n\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\tbody: JSON.stringify(context, null, 4),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"addIntentListener\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tvalue: intent,\r\n\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t});\r\n\t\t\t\tthis.intentListeners.push({ id: listenerId, type: intent, listener: intentListener });\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"addIntentListener\",\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tvalue: intent,\r\n\t\t\t\tvariant: \"code\",\r\n\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tremoveIntentListener(id: string) {\r\n\t\tconst listenerIndex = this.intentListeners.findIndex((listener) => listener.id === id);\r\n\r\n\t\tif (listenerIndex !== -1) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.intentListeners[listenerIndex].listener.unsubscribe();\r\n\r\n\t\t\t\trunInAction(() => {\r\n\t\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\t\tname: \"removeIntentListener\",\r\n\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\tvalue: this.intentListeners[listenerIndex].type,\r\n\t\t\t\t\t\tvariant: \"text\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.intentListeners.splice(listenerIndex, 1);\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"removeIntentListener\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tvalue: this.intentListeners[listenerIndex].type,\r\n\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync raiseIntent(intent: string) {\r\n\t\tif (contextStore.currentContext) {\r\n\t\t\ttry {\r\n\t\t\t\tconst appIntent = await fdc3.raiseIntent(intent, toJS(contextStore.currentContext));\r\n\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"raiseIntent\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tvalue: intent,\r\n\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\tbody: JSON.stringify(appIntent, null, 4),\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"raiseIntent\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tvalue: intent,\r\n\t\t\t\t\tvariant: \"code\",\r\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync raiseIntentForContext() {\r\n\t\tif (contextStore.currentContext) {\r\n\t\t\ttry {\r\n\t\t\t\tawait fdc3.raiseIntentForContext(toJS(contextStore.currentContext));\r\n\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"raiseIntentForContext\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\tsystemLogStore.addLog({\r\n\t\t\t\t\tname: \"raiseIntentForContext\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst intentStore = new IntentStore();\r\n\r\nexport default intentStore;\r\n","import React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport intentStore from \"../../store/IntentStore\";\r\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\ttextField: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tfontSize: \"14px\",\r\n\t\t\tcolor: theme.palette.text.primary,\r\n\t\t},\r\n\t\t\"& .Mui-disabled\": {\r\n\t\t\tborderColor: theme.palette.text.primary,\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const IntentListeners = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst intentListeners: AccordionListItem[] = intentStore.intentListeners.map(({ id, type, lastReceivedContext }) => {\r\n\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\r\n\r\n\t\tconst contextField = (\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled\r\n\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\r\n\t\t\t\tclassName={classes.textField}\r\n\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\tshrink: true,\r\n\t\t\t\t}}\r\n\t\t\t\tcontentEditable={false}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmultiline\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tvalue={receivedContextListenerValue}\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\tinput: classes.input,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\treturn { id, textPrimary: `${type} Listener`, afterEachElement: contextField };\r\n\t});\r\n\r\n\tconst handleDeleteListener = (id: string) => {\r\n\t\tintentStore.removeIntentListener(id);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AccordionList\r\n\t\t\ttitle=\"Intent Listeners\"\r\n\t\t\tnoItemsText=\"No Intent Listeners\"\r\n\t\t\tlistItems={intentListeners}\r\n\t\t\tonDelete={handleDeleteListener}\r\n\t\t/>\r\n\t);\r\n});\r\n","import React from \"react\";\r\nimport { ListItem, TextField, Typography } from \"@material-ui/core\";\r\nimport { LogItem } from \"../../store/SystemLogStore\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\ninterface SystemLogItemProps {\r\n\tlogItem: LogItem;\r\n}\r\n\r\nconst useStyles = (props: SystemLogItemProps) =>\r\n\tmakeStyles((theme: Theme) =>\r\n\t\tcreateStyles({\r\n\t\t\troot: {\r\n\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\tjustifyContent: \"flex-start\",\r\n\t\t\t\talignItems: \"flex-start\",\r\n\t\t\t\tpadding: theme.spacing(3, 0),\r\n\t\t\t\t\"&:first-child\": {\r\n\t\t\t\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessage: {\r\n\t\t\t\tcolor: theme.palette[props.logItem.type].dark,\r\n\t\t\t},\r\n\t\t\ttextField: {\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tfontSize: \"14px\",\r\n\t\t\t\tcolor: theme.palette.text.primary,\r\n\t\t\t},\r\n\t\t\t\"& .Mui-disabled\": {\r\n\t\t\t\tborderColor: theme.palette.text.primary,\r\n\t\t\t},\r\n\t\t})\r\n\t);\r\n\r\nexport const SystemLogItem: React.FC<SystemLogItemProps> = (props: SystemLogItemProps) => {\r\n\tconst { logItem } = props;\r\n\tconst classes = useStyles(props)();\r\n\r\n\treturn (\r\n\t\t<ListItem className={classes.root} divider>\r\n\t\t\t<Typography className={classes.message} variant=\"body1\">\r\n\t\t\t\t{logItem.message}\r\n\t\t\t</Typography>\r\n\r\n\t\t\t{logItem.variant === \"code\" && (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\tid={logItem.id}\r\n\t\t\t\t\tcontentEditable={false}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue={logItem.body}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\t\tinput: classes.input,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{logItem.variant === \"text\" && logItem.body && (\r\n\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t{logItem.type === \"error\" && \"ERROR:\"}\r\n\t\t\t\t\t{logItem.type === \"warning\" && \"WARNING:\"}\r\n\t\t\t\t\t{logItem.type === \"info\" && \"INFO:\"}\r\n\t\t\t\t\t{logItem.type === \"success\" && \"SUCCESS:\"}\r\n\r\n\t\t\t\t\t{logItem.body}\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</ListItem>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { List } from \"@material-ui/core\";\r\nimport systemLogStore from \"../../store/SystemLogStore\";\r\nimport { SystemLogItem } from \"./SystemLogItem\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const SystemLog = observer(() => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<List component=\"nav\" className={classes.root} aria-label=\"mailbox folders\">\r\n\t\t\t{systemLogStore.logList.map((logItem) => (\r\n\t\t\t\t<SystemLogItem key={logItem.id} logItem={logItem} />\r\n\t\t\t))}\r\n\t\t</List>\r\n\t);\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { Typography, Tabs, Tab, Box } from \"@material-ui/core\";\r\nimport { TabPanel } from \"../common/TabPanel\";\r\nimport { CurrentContext } from \"./CurrentContext\";\r\nimport { ContextListeners } from \"./ContextListeners\";\r\nimport { IntentListeners } from \"./IntentListeners\";\r\nimport { SystemLog } from \"./SystemLog\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\"&:first-child\": {\r\n\t\t\t\tmarginTop: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsystemLog: {\r\n\t\t\tmaxHeight: \"1000px\",\r\n\t\t\toverflowY: \"scroll\",\r\n\t\t},\r\n\t\tindicator: {\r\n\t\t\tbackgroundColor: \"#00bbe1\",\r\n\t\t},\r\n\t\ttabs: {\r\n\t\t\tborderBottomColor: \"#acb2c0\",\r\n\t\t\tborderBottomStyle: \"solid\",\r\n\t\t\tborderBottomWidth: \"1px\",\r\n\t\t\tminHeight: \"28px\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nconst a11yProps = (index: any) => {\r\n\treturn {\r\n\t\tid: `scrollable-auto-tab-${index}`,\r\n\t\t\"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n\t};\r\n};\r\n\r\nexport const Workbench = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [tabValue, setTabValue] = useState<number>(0);\r\n\r\n\tconst handleTabChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n\t\tsetTabValue(newValue);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box textAlign=\"center\">\r\n\t\t\t\t<Typography variant=\"h4\">{`{toolbox}`}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Tabs\r\n\t\t\t\tvalue={tabValue}\r\n\t\t\t\tonChange={handleTabChange}\r\n\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\tvariant=\"scrollable\"\r\n\t\t\t\tscrollButtons=\"auto\"\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tindicator: classes.indicator,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.tabs}\r\n\t\t\t>\r\n\t\t\t\t<Tab label=\"Current State\" {...a11yProps(0)} />\r\n\t\t\t\t<Tab label=\"System Log\" {...a11yProps(1)} />\r\n\t\t\t</Tabs>\r\n\r\n\t\t\t<TabPanel value={tabValue} index={0}>\r\n\t\t\t\t<CurrentContext />\r\n\t\t\t\t<ContextListeners />\r\n\t\t\t\t<IntentListeners />\r\n\t\t\t</TabPanel>\r\n\r\n\t\t\t<div className={classes.systemLog}>\r\n\t\t\t\t<TabPanel value={tabValue} index={1}>\r\n\t\t\t\t\t<SystemLog />\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport JSONEditor, { JSONEditorOptions, ParseError, SchemaValidationError } from \"jsoneditor\";\r\nimport \"jsoneditor/dist/jsoneditor.css\";\r\nimport $RefParser from \"@apidevtools/json-schema-ref-parser\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\ninterface JsonInputProps {\r\n\tjson?: object | null;\r\n\tschemaUrl?: URL | null;\r\n\tschema?: object | null;\r\n\tonJsonError?: (errors: Array<string>) => void;\r\n\treadOnly?: boolean;\r\n\tonChange: (value: any) => void;\r\n\terror?: string | false;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpadding: theme.spacing(1),\r\n\t\t\tborder: `1px solid #0086bf`,\r\n\t\t\tborderRadius: theme.shape.borderRadius,\r\n\t\t\t\"& .jsoneditor\": {\r\n\t\t\t\tborder: \"none\",\r\n\t\t\t},\r\n\t\t\t\"& .ace-jsoneditor .ace_gutter\": {\r\n\t\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\t},\r\n\t\t\t\"& .ace-jsoneditor .ace_gutter-active-line\": {\r\n\t\t\t\tbackgroundColor: theme.palette.grey[\"200\"],\r\n\t\t\t},\r\n\t\t\t\"& .ace-jsoneditor .ace_marker-layer .ace_active-line\": {\r\n\t\t\t\tbackgroundColor: theme.palette.grey[\"200\"],\r\n\t\t\t},\r\n\t\t},\r\n\t\tjsonInput: {\r\n\t\t\theight: \"270px\",\r\n\t\t},\r\n\t\terrorText: {\r\n\t\t\tbottom: \"-8px\",\r\n\t\t\tpadding: theme.spacing(0, 0.5),\r\n\t\t\tfontSize: \"0.75rem\",\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tbackgroundColor: \"#fff\",\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const JsonInput: React.FC<JsonInputProps> = (props: JsonInputProps) => {\r\n\tconst classes = useStyles();\r\n\tconst [jsoneditor, setJsoneditor] = useState<JSONEditor>();\r\n\tconst container = useRef<HTMLDivElement>(null);\r\n\tconst initialSettings: JSONEditorOptions = {\r\n\t\tmode: \"code\",\r\n\t\tmainMenuBar: false,\r\n\t\tstatusBar: false,\r\n\t\tindentation: 2,\r\n\t\tonChangeText: (text: string) => {\r\n\t\t\tif (text === \"\") {\r\n\t\t\t\tprops.onChange(null);\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tprops.onChange(JSON.parse(text));\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonValidationError: (error: readonly (SchemaValidationError | ParseError)[]) => {\r\n\t\t\tif (props.onJsonError) {\r\n\t\t\t\tif (error.length > 0) {\r\n\t\t\t\t\tconst errorMsg: string = error[0].type === \"error\" ? \"Bad json format\" : \"Json doesn't match the schema\";\r\n\t\t\t\t\tprops.onJsonError([errorMsg]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tprops.onJsonError([]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tconst options: JSONEditorOptions = { ...initialSettings };\r\n\r\n\t\t\tif (container.current) {\r\n\t\t\t\tif (props.schema) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\toptions.schema = await $RefParser.dereference(props.schema, {\r\n\t\t\t\t\t\t\tdereference: {\r\n\t\t\t\t\t\t\t\tcircular: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (props.schemaUrl) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\toptions.schema = await $RefParser.dereference(props.schemaUrl.href, {\r\n\t\t\t\t\t\t\tdereference: {\r\n\t\t\t\t\t\t\t\tcircular: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst editor = new JSONEditor(container.current, options, props.json);\r\n\r\n\t\t\t\tsetJsoneditor(editor);\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\treturn jsoneditor?.destroy;\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.schema) {\r\n\t\t\tjsoneditor?.setSchema(props.schema);\r\n\t\t}\r\n\t}, [props.schema]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tif (props.schemaUrl) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst schema = await $RefParser.dereference(props.schemaUrl.href, {\r\n\t\t\t\t\t\tdereference: {\r\n\t\t\t\t\t\t\tcircular: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tjsoneditor?.setSchema(schema);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})();\r\n\t}, [props.schemaUrl]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (jsoneditor && (props.json || props.json === null)) {\r\n\t\t\tif (props.json === null) {\r\n\t\t\t\tjsoneditor.set({});\r\n\t\t\t} else {\r\n\t\t\t\tjsoneditor.set(props.json);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [props.json, jsoneditor]);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root} tabIndex={0}>\r\n\t\t\t<div className={classes.jsonInput} ref={container} />\r\n\t\t\t{!!props.error && <div className={classes.errorText}>{props.error}</div>}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { withStyles } from \"@material-ui/core/styles\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nexport const TemplateTextField = withStyles({\r\n\troot: {\r\n\t\t\"& label.Mui-focused\": {\r\n\t\t\tcolor: \"#0086bf\",\r\n\t\t},\r\n\t\t\"& .MuiInput-underline:after\": {\r\n\t\t\tborderBottomColor: \"#0086bf\",\r\n\t\t},\r\n\t\t\"& .MuiOutlinedInput-root\": {\r\n\t\t\t\"& fieldset\": {\r\n\t\t\t\tborderColor: \"#0086bf\",\r\n\t\t\t},\r\n\t\t\t\"&:hover fieldset\": {\r\n\t\t\t\tborderColor: \"#0086bf\",\r\n\t\t\t},\r\n\t\t\t\"&.Mui-focused fieldset\": {\r\n\t\t\t\tborderColor: \"#0086bf\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})(TextField);\r\n","import React, { useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { Typography, Grid, Button, IconButton, Tooltip } from \"@material-ui/core\";\r\nimport { codeExamples } from \"../fixtures/codeExamples\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport contextStore from \"../store/ContextStore\";\r\nimport { TemplateTextField } from \"./common/TemplateTextField\";\r\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\r\n\r\n// interface copied from lib @material-ui/lab/Autocomplete\r\ninterface FilterOptionsState<T> {\r\n\tinputValue: string;\r\n\tgetOptionLabel: (option: T) => string;\r\n}\r\n\r\ninterface ListenerOptionType {\r\n\ttitle: string;\r\n\tvalue: string;\r\n}\r\n\r\ntype ListenerSetValue = (value: ListenerOptionType | null) => void;\r\n\r\ntype ListenerSetError = (error: string | false) => void;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tform: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\t\"& > *\": {\r\n\t\t\t\tmargin: theme.spacing(1),\r\n\t\t\t\tmarginRight: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\r\n\t\t\t\tpadding: \"6px\",\r\n\t\t\t\tmarginLeft: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\tspread: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\tjustifyContent: \"flex-end\",\r\n\t\t},\r\n\t\tcontextListenerName: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tminWidth: \"190px\",\r\n\t\t},\r\n\t\trightAlign: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\tjustifyContent: \"flex-end\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nconst listenerFilter = createFilterOptions<ListenerOptionType>();\r\n\r\nexport const ContextLinking = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [contextListener, setContextListener] = useState<ListenerOptionType | null>(null);\r\n\tconst [contextError, setContextError] = useState<string | false>(false);\r\n\tconst contextListenersOptions: ListenerOptionType[] = contextStore.contextsList.map(({ id }) => {\r\n\t\treturn {\r\n\t\t\ttitle: id,\r\n\t\t\tvalue: id,\r\n\t\t};\r\n\t});\r\n\tcontextListenersOptions.unshift({\r\n\t\ttitle: \"All\",\r\n\t\tvalue: \"all\",\r\n\t});\r\n\r\n\tconst handleChangeListener =\r\n\t\t(setValue: ListenerSetValue, setError: ListenerSetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\r\n\t\t\tif (typeof newValue === \"string\") {\r\n\t\t\t\tsetValue({\r\n\t\t\t\t\ttitle: newValue,\r\n\t\t\t\t\tvalue: newValue,\r\n\t\t\t\t});\r\n\t\t\t} else if (newValue && newValue.inputValue) {\r\n\t\t\t\tsetValue({\r\n\t\t\t\t\ttitle: newValue.inputValue,\r\n\t\t\t\t\tvalue: newValue.inputValue,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetValue(newValue);\r\n\t\t\t}\r\n\r\n\t\t\tsetError(false);\r\n\t\t};\r\n\r\n\tconst getOptionLabel = (option: ListenerOptionType) => {\r\n\t\tif (option.value) {\r\n\t\t\treturn option.value;\r\n\t\t}\r\n\t\treturn option.title;\r\n\t};\r\n\r\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\r\n\t\tconst filtered = listenerFilter(options, params);\r\n\r\n\t\tif (params.inputValue !== \"\") {\r\n\t\t\tfiltered.push({\r\n\t\t\t\tvalue: params.inputValue,\r\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\r\n\tconst handleAddContextListener = () => {\r\n\t\tif (contextListener) {\r\n\t\t\tif (contextStore.isContextListenerExists(contextListener.value)) {\r\n\t\t\t\tsetContextError(\"Listener already added\");\r\n\t\t\t} else {\r\n\t\t\t\tcontextStore.addContextListener(contextListener.value);\r\n\t\t\t\tsetContextListener(null);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetContextError(\"Enter context type\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Typography variant=\"h5\">Add Context Listener</Typography>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item className={classes.contextListenerName}>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tid=\"context-listener\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tselectOnFocus\r\n\t\t\t\t\t\t\tblurOnSelect\r\n\t\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\t\thandleHomeEndKeys\r\n\t\t\t\t\t\t\tvalue={contextListener}\r\n\t\t\t\t\t\t\tonChange={handleChangeListener(setContextListener, setContextError)}\r\n\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\toptions={contextListenersOptions}\r\n\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\r\n\t\t\t\t\t\t\trenderOption={(option) => option.title}\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TemplateTextField\r\n\t\t\t\t\t\t\t\t\tlabel=\"CONTEXT LISTENER\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Context Type\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\terror={!!contextError}\r\n\t\t\t\t\t\t\t\t\thelperText={contextError}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleAddContextListener}>\r\n\t\t\t\t\t\t\tAdd Listener\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.contextListener, \"addContextListener\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { Button, Grid, Typography, Tooltip, IconButton } from \"@material-ui/core\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport contextStore, { ContextType, ContextItem } from \"../store/ContextStore\";\r\nimport systemLogStore from \"../store/SystemLogStore\";\r\nimport { JsonInput } from \"./common/JsonInput\";\r\nimport { TemplateTextField } from \"./common/TemplateTextField\";\r\nimport { codeExamples } from \"../fixtures/codeExamples\";\r\nimport { ContextLinking } from \"./ContextLinking\";\r\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\r\n\r\n// interface copied from lib @material-ui/lab/Autocomplete\r\ninterface FilterOptionsState<T> {\r\n\tinputValue: string;\r\n\tgetOptionLabel: (option: T) => string;\r\n}\r\n\r\ninterface OptionType {\r\n\ttitle: string;\r\n\tvalue: string;\r\n}\r\n\r\nconst filter = createFilterOptions<OptionType>();\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tform: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\t\"& > *\": {\r\n\t\t\t\tmargin: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t\"& > *:first-child\": {\r\n\t\t\t\tmarginLeft: 0,\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t},\r\n\t\t\t\"& > * > *:first-child\": {\r\n\t\t\t\tmarginLeft: 0,\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t},\r\n\t\t\t\"& .MuiGrid-grid-xs-12\": {\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\r\n\t\t\t\tpadding: \"6px\",\r\n\t\t\t\tmarginLeft: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttemplateSelect: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\t// marginRight: theme.spacing(1),\r\n\t\t\tminWidth: \"190px\",\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\tmultilineField: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginLeft: \"auto\",\r\n\t\t},\r\n\t\trightAlign: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\tjustifyContent: \"flex-end\",\r\n\t\t},\r\n\t\tborder: {\r\n\t\t\theight: \"1px\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tbackgroundColor: \"#acb2c0\",\r\n\t\t\tmarginTop: \"24px\",\r\n\t\t\tmarginBottom: \"16px\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nexport const ContextCreate = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [templateName, setTemplateName] = useState<OptionType | null>(null);\r\n\tconst [contextValue, setContextValue] = useState<ContextType | null>(null);\r\n\tconst [context, setContext] = useState<ContextItem | null>(null);\r\n\tconst [contextError, setContextError] = useState<string | false>(false);\r\n\tconst contextListenersOptions: OptionType[] = contextStore.contextsList.map(({ id }) => {\r\n\t\treturn {\r\n\t\t\ttitle: id,\r\n\t\t\tvalue: id,\r\n\t\t};\r\n\t});\r\n\r\n\tconst handleContextChange = (json: ContextType) => {\r\n\t\tsetContextValue(json);\r\n\t\tsetContextError(false);\r\n\t};\r\n\r\n\tconst handleJsonError = (errors: string[]) => {\r\n\t\tsetContextError(errors[0]);\r\n\t};\r\n\r\n\t// TODO: save template that was setup without template name\r\n\tconst handleChangeTemplate = (event: React.ChangeEvent<{}>, newValue: any) => {\r\n\t\tsetTemplateName(newValue);\r\n\r\n\t\tif (newValue?.value) {\r\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue?.value);\r\n\r\n\t\t\tif (selectedContext) {\r\n\t\t\t\tsetContextValue(selectedContext.template);\r\n\t\t\t\tsetContext(selectedContext);\r\n\t\t\t} else {\r\n\t\t\t\tconst newContext: ContextItem = {\r\n\t\t\t\t\tid: newValue.value,\r\n\t\t\t\t\ttemplate: contextValue,\r\n\t\t\t\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/context.schema.json\"),\r\n\t\t\t\t};\r\n\r\n\t\t\t\tcontextStore.addContextItem(newContext);\r\n\t\t\t\tsetContext(newContext);\r\n\t\t\t\tsetContextValue(newContext.template);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetContextError(false);\r\n\t};\r\n\r\n\tconst validate = () => {\r\n\t\tif (!contextValue) {\r\n\t\t\tsetContextError(\"Context is required\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!contextValue?.type) {\r\n\t\t\tsetContextError(\"Context must have property 'type'\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (contextValue?.type === \"\") {\r\n\t\t\tsetContextError(\"Property 'type' can't be empty\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\tconst handleCreateContext = () => {\r\n\t\tconst isValid: boolean = validate();\r\n\r\n\t\tif (isValid && contextValue && !contextError) {\r\n\t\t\tcontextStore.createContext(contextValue);\r\n\t\t\t//disabled clearing of context value and template name\r\n\t\t\t// setContextValue(null);\r\n\t\t\t// setTemplateName(null);\r\n\t\t\t// setContext({\r\n\t\t\t// \tid: \"empty\",\r\n\t\t\t// \ttemplate: null,\r\n\t\t\t// });\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"createContext\",\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tvalue: context?.id,\r\n\t\t\t\tvariant: \"text\",\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"createContext\",\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tvalue: context?.id,\r\n\t\t\t\tvariant: \"text\",\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst getOptionLabel = (option: OptionType) => {\r\n\t\tif (option.value) {\r\n\t\t\treturn option.value;\r\n\t\t}\r\n\r\n\t\treturn option.title;\r\n\t};\r\n\r\n\tconst filterOptions = (options: OptionType[], params: FilterOptionsState<OptionType>) => {\r\n\t\tconst filtered = filter(options, params);\r\n\r\n\t\tif (params.inputValue !== \"\") {\r\n\t\t\tfiltered.push({\r\n\t\t\t\tvalue: params.inputValue,\r\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\r\n\t// TODO: disable button if nothing in template changed\r\n\tconst handleSaveTemplate = () => {\r\n\t\tif (context) {\r\n\t\t\tcontextStore.saveContextItem({\r\n\t\t\t\tid: context.id,\r\n\t\t\t\tschemaUrl: context.schemaUrl,\r\n\t\t\t\ttemplate: contextValue,\r\n\t\t\t});\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"saveTemplate\",\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tvalue: context?.id,\r\n\t\t\t\tvariant: \"text\",\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsystemLogStore.addLog({\r\n\t\t\t\tname: \"createContext\",\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t\tvariant: \"text\",\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleBroadcast = () => {\r\n\t\tcontextStore.broadcast();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Typography variant=\"h5\">Create Context</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\r\n\t\t\t\t<Grid container direction=\"row\" spacing={1} className={classes.rightAlign}>\r\n\t\t\t\t\t<Grid item className={`${classes.controls} ${classes.templateSelect}`}>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tid=\"context-template\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tselectOnFocus\r\n\t\t\t\t\t\t\tblurOnSelect\r\n\t\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\t\thandleHomeEndKeys\r\n\t\t\t\t\t\t\tvalue={templateName}\r\n\t\t\t\t\t\t\tonChange={handleChangeTemplate}\r\n\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\toptions={contextListenersOptions}\r\n\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\r\n\t\t\t\t\t\t\tgetOptionSelected={(option, value) => option.value === value.value}\r\n\t\t\t\t\t\t\trenderOption={(option) => option.title}\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TemplateTextField\r\n\t\t\t\t\t\t\t\t\t//className={classes.textField}\r\n\t\t\t\t\t\t\t\t\tlabel=\"TEMPLATE\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Choose Context Template\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tborderColor: \"blue\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleSaveTemplate}>\r\n\t\t\t\t\t\t\tSave Template\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} className={classes.controls}>\r\n\t\t\t\t\t\t<JsonInput\r\n\t\t\t\t\t\t\tjson={context?.template}\r\n\t\t\t\t\t\t\tonChange={handleContextChange}\r\n\t\t\t\t\t\t\tonJsonError={handleJsonError}\r\n\t\t\t\t\t\t\tschemaUrl={context?.schemaUrl}\r\n\t\t\t\t\t\t\terror={contextError}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleCreateContext}>\r\n\t\t\t\t\t\t\tCreate context\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Tooltip title=\"Copy code\" aria-label=\"Copy code\">\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={copyToClipboard(`let context = ${JSON.stringify(contextValue, null, 2)}`, \"createContext\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={!contextStore.currentContext}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={handleBroadcast}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tBroadcast Context\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.broadcast, \"broadcast\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<div className={classes.border}></div>\r\n\r\n\t\t\t\t\t<ContextLinking />\r\n\t\t\t\t</Grid>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { Button, IconButton, Tooltip, Typography, Grid } from \"@material-ui/core\";\r\nimport { observer } from \"mobx-react\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport contextStore from \"../store/ContextStore\";\r\nimport intentStore from \"../store/IntentStore\";\r\nimport { codeExamples } from \"../fixtures/codeExamples\";\r\nimport { TemplateTextField } from \"./common/TemplateTextField\";\r\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\r\n\r\n// interface copied from lib @material-ui/lab/Autocomplete\r\ninterface FilterOptionsState<T> {\r\n\tinputValue: string;\r\n\tgetOptionLabel: (option: T) => string;\r\n}\r\n\r\ninterface ListenerOptionType {\r\n\ttitle: string;\r\n\tvalue: string;\r\n}\r\n\r\ntype ListenerSetValue = (value: ListenerOptionType | null) => void;\r\n\r\ntype ListenerSetError = (error: string | false) => void;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t},\r\n\t\tform: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\t\"& > *\": {\r\n\t\t\t\tmargin: theme.spacing(1),\r\n\t\t\t\tmarginLeft: \"0px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\t\"& > *:first-child\": {\r\n\t\t\t\tmarginLeft: 0,\r\n\t\t\t},\r\n\t\t\t\"& > *\": {\r\n\t\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t\"& > *:last-child\": {\r\n\t\t\t\tmarginRight: 0,\r\n\t\t\t},\r\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\r\n\t\t\t\tpadding: \"6px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\trightAlign: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\tjustifyContent: \"flex-end\",\r\n\t\t},\r\n\t\tspread: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\t\"& > *:first-child\": {\r\n\t\t\t\tpaddingLeft: \"0px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\t\"& input\": {\r\n\t\t\t\theight: \"29px\",\r\n\t\t\t\tpadding: \"6px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\th4: {\r\n\t\t\tfontSize: \"22px\",\r\n\t\t},\r\n\t\tfield: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tminWidth: \"190px\",\r\n\t\t},\r\n\t\tborder: {\r\n\t\t\theight: \"1px\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tbackgroundColor: \"#acb2c0\",\r\n\t\t\tmarginTop: \"24px\",\r\n\t\t\tmarginBottom: \"16px\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nconst filter = createFilterOptions<ListenerOptionType>();\r\n\r\nexport const Intents = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [intentValue, setIntentValue] = useState<ListenerOptionType | null>(null);\r\n\tconst [raiseIntentError, setRaiseIntentError] = useState<string | false>(false);\r\n\tconst [intentListener, setIntentListener] = useState<ListenerOptionType | null>(null);\r\n\tconst [intentError, setIntentError] = useState<string | false>(false);\r\n\tconst intentListenersOptions: ListenerOptionType[] = intentStore.intentsList;\r\n\tconst context = JSON.parse(JSON.stringify(contextStore.currentContext))?.type;\r\n\r\n\tconst handleRaiseIntent = () => {\r\n\t\tif (intentValue) {\r\n\t\t\tintentStore.raiseIntent(intentValue.value);\r\n\t\t\tsetRaiseIntentError(\"\");\r\n\t\t} else {\r\n\t\t\tsetRaiseIntentError(\" enter intent name\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRaiseIntentForContext = () => {\r\n\t\tintentStore.raiseIntentForContext();\r\n\t};\r\n\r\n\tconst handleChangeListener =\r\n\t\t(setValue: ListenerSetValue, setError: ListenerSetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\r\n\t\t\tif (typeof newValue === \"string\") {\r\n\t\t\t\tsetValue({\r\n\t\t\t\t\ttitle: newValue,\r\n\t\t\t\t\tvalue: newValue,\r\n\t\t\t\t});\r\n\t\t\t} else if (newValue && newValue.inputValue) {\r\n\t\t\t\tsetValue({\r\n\t\t\t\t\ttitle: newValue.inputValue,\r\n\t\t\t\t\tvalue: newValue.inputValue,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetValue(newValue);\r\n\t\t\t}\r\n\r\n\t\t\tsetError(false);\r\n\t\t};\r\n\r\n\tconst getOptionLabel = (option: ListenerOptionType) => {\r\n\t\tif (option.value) {\r\n\t\t\treturn option.value;\r\n\t\t}\r\n\t\treturn option.title;\r\n\t};\r\n\r\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\r\n\t\tconst filtered = filter(options, params);\r\n\r\n\t\tif (params.inputValue !== \"\") {\r\n\t\t\tfiltered.push({\r\n\t\t\t\tvalue: params.inputValue,\r\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\r\n\tconst handleAddIntentListener = () => {\r\n\t\tif (intentListener) {\r\n\t\t\tintentStore.addIntentListener(intentListener.value);\r\n\t\t\tsetIntentListener(null);\r\n\t\t} else {\r\n\t\t\tsetIntentError(\"Enter intent\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Typography variant=\"h5\">Raise Intent</Typography>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\r\n\t\t\t\t<Grid container direction=\"row\" spacing={2}>\r\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\r\n\t\t\t\t\t\t<Grid item className={classes.field}>\r\n\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\tid=\"raise-intent\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tselectOnFocus\r\n\t\t\t\t\t\t\t\tblurOnSelect\r\n\t\t\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\t\t\thandleHomeEndKeys\r\n\t\t\t\t\t\t\t\tvalue={intentValue}\r\n\t\t\t\t\t\t\t\tonChange={handleChangeListener(setIntentValue, setRaiseIntentError)}\r\n\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\t\toptions={intentListenersOptions}\r\n\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\r\n\t\t\t\t\t\t\t\trenderOption={(option) => option.title}\r\n\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t<TemplateTextField\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"INTENT TYPE\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Intent Type\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\terror={!!raiseIntentError}\r\n\t\t\t\t\t\t\t\t\t\thelperText={raiseIntentError}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={handleRaiseIntent}\r\n\t\t\t\t\t\t\t\tdisabled={!contextStore.currentContext}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tRaise Intent\r\n\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.raiseIntent, \"raiseIntent\")}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<div className={classes.border}></div>\r\n\r\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\r\n\t\t\t\t\t\t<Grid item className={classes.field}>\r\n\t\t\t\t\t\t\t<TemplateTextField\r\n\t\t\t\t\t\t\t\tlabel=\"Current context type\"\r\n\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tdefaultValue={context || \"Create a context\"}\r\n\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={!contextStore.currentContext}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={handleRaiseIntentForContext}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tRaise intent for context\r\n\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.raiseIntentForContext, \"raiseIntentForContext\")}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<div className={classes.border}></div>\r\n\r\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\r\n\t\t\t\t\t\t<Grid item className={classes.field}>\r\n\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\tid=\"intent-listener\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tselectOnFocus\r\n\t\t\t\t\t\t\t\tblurOnSelect\r\n\t\t\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\t\t\thandleHomeEndKeys\r\n\t\t\t\t\t\t\t\tvalue={intentListener}\r\n\t\t\t\t\t\t\t\tonChange={handleChangeListener(setIntentListener, setIntentError)}\r\n\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\t\toptions={intentListenersOptions}\r\n\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\r\n\t\t\t\t\t\t\t\trenderOption={(option) => option.title}\r\n\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t<TemplateTextField\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"INTENT LISTENER\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Intent Type\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\terror={!!intentError}\r\n\t\t\t\t\t\t\t\t\t\thelperText={intentError}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item className={classes.controls}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={handleAddIntentListener}\r\n\t\t\t\t\t\t\t\tdisabled={intentListener === null}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdd Listener\r\n\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.intentListener, \"addIntentListener\")}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { Grid, Paper, Tabs, Tab, Typography, Link } from \"@material-ui/core\";\r\nimport { observer } from \"mobx-react\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport \"normalize.css\";\r\nimport \"@fontsource/roboto\";\r\nimport \"@fontsource/source-code-pro\";\r\nimport { TabPanel } from \"./components/common/TabPanel\";\r\nimport { Header } from \"./components/Header\";\r\nimport { Channels } from \"./components/Channels\";\r\nimport { Workbench } from \"./components/Workbench/Workbench\";\r\nimport { ContextCreate } from \"./components/ContextCreate\";\r\nimport { Intents } from \"./components/Intents\";\r\nimport snackbarStore from \"./store/SnackbarStore\";\r\nimport \"./App.css\";\r\nimport { fdc3Ready } from \"@finos/fdc3\";\r\n\r\nconst mainTheme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tlight: \"#005d85\",\r\n\t\t\tmain: \"#0086bf\",\r\n\t\t\tdark: \"#339ecb\",\r\n\t\t\tcontrastText: \"#fff\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nmainTheme.typography.h4 = {\r\n\tfontFamily: \"Source Code Pro\",\r\n\tfontSize: \"20px\",\r\n\tcolor: \"#0086bf\",\r\n\tpaddingLeft: \"4px\",\r\n\tpaddingBottom: \"11px\",\r\n};\r\n\r\nmainTheme.typography.h5 = {\r\n\tfontSize: \"16px\",\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\t\"@global\": {\r\n\t\t\t\".MuiFormHelperText-contained.Mui-error\": {\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tmarginLeft: \"9px\",\r\n\t\t\t\tbottom: \"-11px\",\r\n\t\t\t\tpadding: \"0 4px\",\r\n\t\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t\t\".MuiButton-contained\": {\r\n\t\t\t\tboxShadow: \"none\",\r\n\t\t\t},\r\n\t\t},\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\theader: {\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t},\r\n\t\tbody: {\r\n\t\t\tpadding: theme.spacing(1),\r\n\t\t\theight: \"100%\",\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\theight: \"100%\",\r\n\t\t\t\"&:first-child\": {\r\n\t\t\t\tmarginTop: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttabs: {\r\n\t\t\tborderBottomColor: \"#acb2c0\",\r\n\t\t\tborderBottomStyle: \"solid\",\r\n\t\t\tborderBottomWidth: \"1px\",\r\n\t\t\tminHeight: \"28px\",\r\n\t\t\t\"& [aria-selected='true']\": {\r\n\t\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\r\n\t\t\t},\r\n\t\t},\r\n\t\ttabIndicator: {\r\n\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\r\n\t\t},\r\n\t\tindicator: {\r\n\t\t\tbackgroundColor: \"#00bbe1\",\r\n\t\t},\r\n\t\tfooter: {\r\n\t\t\tfontSize: \"10px\",\r\n\t\t\tfontStyle: \"italic\",\r\n\t\t\tcolor: \"#5b606f\",\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmargin: theme.spacing(2),\r\n\t\t\t\"& *:first-child\": {\r\n\t\t\t\tpaddingTop: \"27px\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tlink: {\r\n\t\t\tcolor: \"#5b606f\",\r\n\t\t\tfontWeight: \"bold\",\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\tcolor: \"#5b606f\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tcode: {\r\n\t\t\tfontFamily: \"courier, courier new, serif\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nconst openAPIDocs = (event: React.MouseEvent<HTMLElement>) => {\r\n\tevent.preventDefault();\r\n\twindow.open(\"https://fdc3.finos.org/docs/api/overview\", \"FDC3ApiDocs\");\r\n\treturn false;\r\n};\r\n\r\nconst openSpecAccessDocs = (event: React.MouseEvent<HTMLElement>) => {\r\n\tevent.preventDefault();\r\n\twindow.open(\"https://fdc3.finos.org/docs/api/spec#api-access\", \"FDC3ApiDocs\");\r\n\treturn false;\r\n};\r\n\r\nexport const App = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [fdc3Available, setFdc3Available] = useState(false);\r\n\tconst [openSnackbar, setOpenSnackbar] = useState(false);\r\n\tconst [tabIndex, setTabIndex] = useState(0);\r\n\r\n\tconst handleTabChange = (event: React.ChangeEvent<{}>, newIndex: number) => {\r\n\t\tsetTabIndex(newIndex);\r\n\t};\r\n\r\n\tconst handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetOpenSnackbar(false);\r\n\t\t// Need to show close animation\r\n\t\tsetTimeout(() => snackbarStore.clearSnackbarData(), 500);\r\n\t};\r\n\r\n\t//check if the FDC3 API is available so we know whether to render\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tawait fdc3Ready(5000);\r\n\t\t\t\tsetFdc3Available(true);\r\n\t\t\t} catch (e) {}\r\n\t\t})();\r\n\r\n\t\t//check window.fdc3 as the FDC3 import will override fdc3\r\n\t\t// if (typeof window.fdc3.broadcast != \"undefined\") {\r\n\t\t// \tsetFdc3Available(true);\r\n\t\t// } else {\r\n\t\t// \twindow.addEventListener(\"fdc3Ready\", () => {setFdc3Available(true);});\r\n\t\t// }\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpenSnackbar(!!snackbarStore.snackbarData);\r\n\t}, [snackbarStore.snackbarData]);\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={mainTheme}>\r\n\t\t\t<Grid className={classes.root} container>\r\n\t\t\t\t<Grid className={classes.header} container item xs={12}>\r\n\t\t\t\t\t<Header fdc3Available={fdc3Available} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{fdc3Available ? (\r\n\t\t\t\t\t<Grid className={classes.body} container spacing={2} item xs={12} style={{ marginLeft: \"0px\" }}>\r\n\t\t\t\t\t\t<Grid item xs={8} style={{ flex: 1 }}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">{`{workbench}`}</Typography>\r\n\t\t\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleTabChange}\r\n\t\t\t\t\t\t\t\t\tvariant=\"scrollable\"\r\n\t\t\t\t\t\t\t\t\tscrollButtons=\"auto\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.tabs}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\tindicator: classes.indicator,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Tab label=\"System Channels\" />\r\n\t\t\t\t\t\t\t\t\t<Tab label=\"Context\" />\r\n\t\t\t\t\t\t\t\t\t<Tab label=\"Intent\" />\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={0}>\r\n\t\t\t\t\t\t\t\t\t<Channels />\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={1}>\r\n\t\t\t\t\t\t\t\t\t<ContextCreate />\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={2}>\r\n\t\t\t\t\t\t\t\t\t<Intents />\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Workbench />\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Grid className={classes.body} container spacing={2} item xs={12} style={{ marginLeft: \"0px\" }}>\r\n\t\t\t\t\t\t<Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={2} item xs={12}>\r\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">FDC3 API not detected!</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\t\t\tAn FDC3 desktop agent implementation was not found at{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span className={classes.code}>window.fdc3</span>.\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t\t\t\tSee the{\" \"}\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.link}\r\n\t\t\t\t\t\t\t\t\t\thref=\"https://fdc3.finos.org/docs/api/spec#api-access\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={openSpecAccessDocs}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tFDC3 standard documentation\r\n\t\t\t\t\t\t\t\t\t</Link>{\" \"}\r\n\t\t\t\t\t\t\t\t\tfor more details.\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Grid container item xs={12} className={classes.footer}>\r\n\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\tLearn more about the{\" \"}\r\n\t\t\t\t\t\t<Link className={classes.link} href=\"https://fdc3.finos.org/docs/api/overview\" onClick={openAPIDocs}>\r\n\t\t\t\t\t\t\tFDC3 Standard and APIs\r\n\t\t\t\t\t\t</Link>{\" \"}\r\n\t\t\t\t\t\t| Proud member of the{\" \"}\r\n\t\t\t\t\t\t<Link className={classes.link} href=\"https://www.finos.org/\">\r\n\t\t\t\t\t\t\tFintech Open Source Foundation\r\n\t\t\t\t\t\t</Link>{\" \"}\r\n\t\t\t\t\t\t| Copyright © 2021 Cosiac, inc. &amp; Contributors to the FDC3 standards project\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Snackbar key={snackbarStore.snackbarData?.id} open={openSnackbar} autoHideDuration={4000} onClose={handleClose}>\r\n\t\t\t\t<Alert elevation={6} variant=\"filled\" onClose={handleClose} severity={snackbarStore.snackbarData?.type}>\r\n\t\t\t\t\t{snackbarStore.snackbarData?.message}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</ThemeProvider>\r\n\t);\r\n});\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}